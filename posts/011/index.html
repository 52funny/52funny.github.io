<!doctype html><html lang=zh-hans><meta charset=utf-8><meta name=generator content="Hugo 0.119.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>数据库基础&nbsp;&ndash;&nbsp;52funny Blog</title><link rel=stylesheet href=/css/core.min.6e00d43e448e61d1b56f5a567b89e5980d6a853040f7b9051781b433448f1333e076f093469e3de5b864f5dfa01d29f2.css integrity=sha384-bgDUPkSOYdG1b1pWe4nlmA1qhTBA97kFF4G0M0SPEzPgdvCTRp495bhk9d+gHSny><meta name=twitter:card content="summary"><meta name=twitter:title content="数据库基础"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><span class="site name">52funny Blog</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/></a><a class="nav item" href=/tags/></a><a class="nav item" href=/>Home</a><a class="nav item" href=/algorithm>Algorithm</a></nav></div></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">数据库基础</h1><p class="article date">2020-03-25</p></section><article class="article markdown-body"><p>数据库基础，本文将讲述一下基本的 MySQL 基本语法以及遇到的一些问题。</p><h4 id=tips>tips</h4><ul><li>解决<code>Host '192.168.1.75' is not allowed to connect to this MySQL server</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=n>use</span><span class=w> </span><span class=n>mysql</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>update</span><span class=w> </span><span class=k>user</span><span class=w> </span><span class=k>set</span><span class=w> </span><span class=k>host</span><span class=o>=</span><span class=s1>&#39;%&#39;</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=k>user</span><span class=o>=</span><span class=s1>&#39;root&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>FLUSH</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=是通配符>%是通配符</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>show</span><span class=w> </span><span class=n>variables</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;gen%&#39;</span><span class=w>
</span></span></span></code></pre></div><pre tabindex=0><code>+----------------------------------+---------------------------+
| Variable_name                    | Value                     |
+----------------------------------+---------------------------+
| general_log                      | OFF                       |
| general_log_file                 | /var/lib/mysql/debian.log |
| generated_random_password_length | 20                        |
+----------------------------------+---------------------------+
</code></pre><h3 id=创建数据库并使用数据库>创建数据库,并使用数据库</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=n>soft</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>use</span><span class=w> </span><span class=n>soft</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=创建表>创建表</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>stu</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sno</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sname</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ssex</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>4</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sage</span><span class=w> </span><span class=nb>smallint</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><code>show tables;</code> 使用前需选中</p><pre tabindex=0><code>+---------------+
| Tables_in_stu |
+---------------+
| stu           |
+---------------+
</code></pre><h3 id=详细的查询表>详细的查询表</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>desc</span><span class=w> </span><span class=n>stu</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>show</span><span class=w> </span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>stu</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><pre tabindex=0><code>+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| sno   | varchar(20) | YES  |     | NULL    |       |
| sname | varchar(20) | YES  |     | NULL    |       |
| ssex  | char(4)     | YES  |     | NULL    |       |
| sage  | smallint    | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
</code></pre><h3 id=修改表的属性>修改表的属性</h3><ul><li>添加字段
<code>alter table stu add sco int after ssex</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sco</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>int</span><span class=w>         </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>smallint</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><ul><li>修改字段 <code>alter table stu modify sco float;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sco</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>float</span><span class=w>       </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>smallint</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><ul><li>重命名字段 <code>alter table stu change ssex sex varchar(4);</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sco</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>float</span><span class=w>       </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>smallint</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><ul><li>删除字段 <code>alter table stu drop sco;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>smallint</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><ul><li>对表重命名 <code>alter table stu rename stuinfo;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>smallint</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><h3 id=复制表>复制表</h3><ul><li>复制表的结构和索引 <code>create table if not exists stu like stuinfo;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>---------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Tables_in_stu</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>---------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>stu</span><span class=w>           </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>stuinfo</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>---------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>desc</span><span class=w> </span><span class=n>stu</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>smallint</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><ul><li>复制表中的数据 <code>create table stunew as select sno, sname from stu;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>---------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Tables_in_stu</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>---------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>stu</span><span class=w>           </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>stuinfo</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>stunew</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>---------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>desc</span><span class=w> </span><span class=n>stunew</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><h3 id=删除表>删除表</h3><ul><li><code>drop table if exists stunew;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>---------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Tables_in_stu</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>---------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>stu</span><span class=w>           </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>stuinfo</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>---------------+
</span></span></span></code></pre></div><h3 id=设置默认字段>设置默认字段</h3><ul><li>设置默认字段<code>alter table stu alter sex set default '男'</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>      </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>smallint</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><ul><li>删除默认字段 <code>alter table stu alter sex drop default</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NO</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>PRI</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><h3 id=添加主键>添加主键</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>stuinfo</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sno</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sname</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sex</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sage</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=p>(</span><span class=n>sno</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NO</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>PRI</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><h3 id=添加外键>添加外键</h3><ul><li>表级约束(在创建之后来修改)<ul><li><code>on delet</code> 和 <code>on update</code> 后面有很多参数可选</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=p>[</span><span class=k>on</span><span class=w> </span><span class=k>delete</span><span class=w> </span><span class=err>{</span><span class=k>cascade</span><span class=o>|</span><span class=w> </span><span class=k>restrict</span><span class=w> </span><span class=o>|</span><span class=k>set</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>no</span><span class=w> </span><span class=n>action</span><span class=err>}</span><span class=w> </span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>on</span><span class=w> </span><span class=k>update</span><span class=w> </span><span class=err>{</span><span class=k>cascade</span><span class=o>|</span><span class=w> </span><span class=k>restrict</span><span class=w> </span><span class=o>|</span><span class=k>set</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>no</span><span class=w> </span><span class=n>action</span><span class=err>}</span><span class=w> </span><span class=p>]</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>sc</span><span class=w> </span><span class=k>add</span><span class=w> </span><span class=k>foreign</span><span class=w> </span><span class=k>key</span><span class=p>(</span><span class=n>sno</span><span class=p>)</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=n>stu</span><span class=p>(</span><span class=n>sno</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>on</span><span class=w> </span><span class=k>update</span><span class=w> </span><span class=k>restrict</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>on</span><span class=w> </span><span class=n>delet</span><span class=w> </span><span class=k>restrict</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NO</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>PRI</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>cno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NO</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>PRI</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>int</span><span class=w>         </span><span class=o>|</span><span class=w> </span><span class=k>NO</span><span class=w>   </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><ul><li>列级约束<ul><li>在字段的后面加一个 references</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>sc</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>sno</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=n>stu</span><span class=p>(</span><span class=n>sno</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>cno</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>grade</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=p>(</span><span class=n>sno</span><span class=p>,</span><span class=w> </span><span class=n>cno</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Field</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Type</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=k>Null</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Default</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Extra</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NO</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>PRI</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>cno</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NO</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>PRI</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>NULL</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nb>int</span><span class=w>         </span><span class=o>|</span><span class=w> </span><span class=n>YES</span><span class=w>  </span><span class=o>|</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=mi>0</span><span class=w>       </span><span class=o>|</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+-------------+------+-----+---------+-------+
</span></span></span></code></pre></div><ul><li>完整性约束</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>sc</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>sno</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>cno</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>grade</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=p>(</span><span class=n>sno</span><span class=p>,</span><span class=w> </span><span class=n>cno</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>constraint</span><span class=w> </span><span class=n>sc_student_fk</span><span class=w> </span><span class=k>foreign</span><span class=w> </span><span class=k>key</span><span class=p>(</span><span class=n>sno</span><span class=p>)</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=n>stu</span><span class=p>(</span><span class=n>sno</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=k>Table</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Create</span><span class=w> </span><span class=k>Table</span><span class=w>                                                                                                                                                                                                                                                                                   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sc</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=o>`</span><span class=n>sc</span><span class=o>`</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>`</span><span class=n>sno</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>`</span><span class=n>cno</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>`</span><span class=n>grade</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=s1>&#39;0&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>sno</span><span class=o>`</span><span class=p>,</span><span class=o>`</span><span class=n>cno</span><span class=o>`</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>CONSTRAINT</span><span class=w> </span><span class=o>`</span><span class=n>sc_stundent_fk</span><span class=o>`</span><span class=w> </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>sno</span><span class=o>`</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=o>`</span><span class=n>stu</span><span class=o>`</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>sno</span><span class=o>`</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>ENGINE</span><span class=o>=</span><span class=n>InnoDB</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=n>CHARSET</span><span class=o>=</span><span class=n>utf8mb4</span><span class=w> </span><span class=k>COLLATE</span><span class=o>=</span><span class=n>utf8mb4_0900_ai_ci</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</span></span></span></code></pre></div><h3 id=删除约束>删除约束</h3><ul><li>删除外键 <code>alter table sc drop foreign key sc_stundent_fk;</code></li><li>删除主键 <code>alter table sc drop primary key;</code></li><li>删除非空 <code>alter table sc modify sno varchar(20) null</code></li><li>删除默认值 <code>alter table sc drop default</code></li><li>删除唯一约束 <code>alter table sc modify sno varchar(20)</code></li></ul><h3 id=表的增加>表的增加</h3><ul><li><code>insert stu values('2018110801','张三', '男', 20);</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+--------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+--------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+--------+------+------+
</span></span></span></code></pre></div><ul><li><code>insert stu(sname, sno, sage, ssex) values('李四', '2018110802', 23, '女');</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+--------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+--------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+--------+------+------+
</span></span></span></code></pre></div><ul><li><code>insert stu values('2018110803', '王二麻', '男', 25), ('2018110804', '李二狗', '女', 28);</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><h3 id=表的改动>表的改动</h3><ul><li><code>update stu set sname='张三三' where sno = 2018110801;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三三</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><h3 id=表的删除>表的删除</h3><ul><li><code>delete from stu;</code> 清空表的数据,但保留数据表的结构</li><li><code>truncate stu;</code> 清空表的数据,保留数据表的结构</li></ul><blockquote><p>delete，drop，truncate 都有删除表的作用，区别在于：</p><p>1、delete 和 truncate 仅仅删除表数据，drop 连表数据和表结构一起删除，打个比方，delete 是单杀，truncate 是团灭，drop 是把电脑摔了。</p><p>2、delete 是 DML 语句，操作完以后如果没有不想提交事务还可以回滚，truncate 和 drop 是 DDL 语句，操作完马上生效，不能回滚，打个比方，delete 是发微信说分手，后悔还可以撤回，truncate 和 drop 是直接扇耳光说滚，不能反悔。</p><p>3、执行的速度上，drop>truncate>delete，打个比方，drop 是神舟火箭，truncate 是和谐号动车，delete 是自行车。</p></blockquote><h3 id=表的查询>表的查询</h3><ul><li><code>select * from stu;</code> 查询所有信息</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><ul><li><code>select sno, sname from stu;</code> 查询固定信息</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+
</span></span></span></code></pre></div><table><thead><tr><th>AND</th><th>OR</th><th>IN</th><th>NOT IN</th><th>BETWEEN</th></tr></thead><tbody><tr><td>与</td><td>或</td><td>在</td><td>不在</td><td>范围</td></tr></tbody></table><h4 id=用条件来查询>用条件来查询</h4><ul><li><code>select * from stu where sage > 20 and sage &lt; 25;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+--------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+--------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+--------+------+------+
</span></span></span></code></pre></div><ul><li><code>select * from stu where sage between 20 and 25;</code> 包括边界</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><ul><li><code>select * from stu where ssex in ('男');</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><ul><li><code>select * from stu where ssex not in('男');</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><h4 id=通配符>通配符</h4><table><thead><tr><th>%</th><th>-</th></tr></thead><tbody><tr><td>匹配任意多个字符</td><td>匹配一个任意字符</td></tr></tbody></table><ul><li><code>select * from stu where sno like '2018110_0_';</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><ul><li><code>select * from stu where sno like '201811%';</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><h4 id=对结果排序>对结果排序</h4><table><thead><tr><th>ASC</th><th>DESC</th></tr></thead><tbody><tr><td>升序</td><td>降序</td></tr></tbody></table><ul><li><code>select * from stu order by sage asc;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><ul><li><code>select * from stu order by sage desc;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+
</span></span></span></code></pre></div><h4 id=sql-内置函数>SQL 内置函数</h4><table><thead><tr><th>函数名</th><th>COUNT</th><th>SUM</th><th>AVG</th><th>MAX</th><th>MIN</th></tr></thead><tbody><tr><td>作用</td><td>计数</td><td>求和</td><td>求平均值</td><td>最大值</td><td>最小值</td></tr></tbody></table><blockquote><p>其中 COUNT 函数可用于任何数据类型(因为它只是计数)，而另 4 个函数都只能对数字类数据类型做计算。</p></blockquote><ul><li><code>select min(sage), max(sage), sum(sage), avg(sage) from stu;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>-----------+-----------+-----------+-----------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=k>min</span><span class=p>(</span><span class=n>sage</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>max</span><span class=p>(</span><span class=n>sage</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>sum</span><span class=p>(</span><span class=n>sage</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>avg</span><span class=p>(</span><span class=n>sage</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-----------+-----------+-----------+-----------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w>        </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>        </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>        </span><span class=mi>96</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>24</span><span class=p>.</span><span class=mi>0000</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-----------+-----------+-----------+-----------+
</span></span></span></code></pre></div><ul><li><code>select min(sage) as min, max(sage) as max, avg(sage) as avg, sum(sage) as sum from stu;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------+------+---------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=k>min</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=k>max</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=k>avg</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=k>sum</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------+------+---------+------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>24</span><span class=p>.</span><span class=mi>0000</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>96</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------+------+---------+------+
</span></span></span></code></pre></div><h4 id=子查询>子查询</h4><ul><li><code>select * from sc where sno in (select sno from stu where sname like '_二麻');</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+--------------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>cno</span><span class=w>          </span><span class=o>|</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+--------------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>48</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+--------------+-------+
</span></span></span></code></pre></div><blockquote><p>子查询还可以扩展到 3 层、4 层或更多层。</p></blockquote><h4 id=连接查询>连接查询</h4><ul><li><code>select * from stu, sc;</code> 两张表笛卡尔积</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+------------+--------------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>cno</span><span class=w>          </span><span class=o>|</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+------------+--------------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>97</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>97</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>97</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>97</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>58</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>58</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>58</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>58</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>98</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>98</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>98</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>98</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>48</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>48</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>48</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>48</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+------------+--------------+-------+
</span></span></span></code></pre></div><ul><li><code>select * from stu, sc where stu.sno = sc.sno;</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+------------+--------------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>cno</span><span class=w>          </span><span class=o>|</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+------------+--------------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>97</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学物理</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>58</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110801</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>98</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>48</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+------------+--------------+-------+
</span></span></span></code></pre></div><ul><li><code>select * from stu join sc on stu.sno = sc.sno;</code> 使用 join to 达到上一步一样的步骤</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+-----------+------+------+------------+--------------+-------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>sname</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>ssex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sage</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sno</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=n>cno</span><span class=w>          </span><span class=o>|</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>-------男   |   20 | 2018110801 | 大学英语     |    91 |
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110802</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>98</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王二麻</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110803</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>48</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李二狗</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2018110804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>大学英语</span><span class=w>     </span><span class=o>|</span><span class=w>    </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+-----------+------+------+------------+--------------+-------+
</span></span></span></code></pre></div><h3 id=创建索引>创建索引</h3><h4 id=普通索引>普通索引</h4><blockquote><p>普通索引是最基本的索引, 没有任何限制.他有以下几种方式创建</p></blockquote><ul><li><code>create index indexname on tablename(username(length));</code> 基本方式</li><li><code>alter table tablename add index indexname(columName);</code> 添加索引</li><li><code>create table tablename( id varchar(20) primary key, name varchar(10) not null, index index_name (name(10)) );</code> 创建表时直接创建</li></ul><h4 id=删除索引>删除索引</h4><p><code>drop index [indexname] on mytable;</code>
<code>alter table tablename drop index c</code></p><h4 id=唯一索引>唯一索引</h4><blockquote><p>它与普通索引差不多,只不过唯一索引必须值唯一,但允许有空值,如果是组合索引,则值必须唯一.创建方式和上面的差不多</p></blockquote><ul><li><code>create unique index indexname on mytable(username(length));</code></li><li><code>alter table tablename add unique index [indexname] (username(length))</code></li><li><code>create table tablename( id varchar(20) primary key, name varchar(10) not null, unique index index_name (name(10)) );</code></li></ul><h4 id=显示索引>显示索引</h4><p><code>show index from tablename</code></p><h3 id=视图>视图</h3><h4 id=创建视图>创建视图</h4><ul><li><code>create view view_stu as select * from stu;</code></li></ul><h4 id=删除视图>删除视图</h4><ul><li><code>drop view if exists view_stu;</code></li></ul><h4 id=视图定以>视图定以</h4><ul><li><code>desc view_stu</code></li></ul><h4 id=修改视图>修改视图</h4><ul><li><code>create or replace view view_stu as select sno, sname from stu;</code></li><li><code>alter view view_stu as select sno, sname from stu;</code></li></ul></article><section class="article labels"><a class=tag href=/tags/mysql/>mysql</a></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/posts/012/><span class="iconfont icon-article"></span>超星学习通签到</a></p><p><a class=link href=/posts/010/><span class="iconfont icon-article"></span>利用Caddy方向代理Rocket.Chat</a></p></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>52funny Blog</p><p class=powerby><span>Powered&nbsp;by&nbsp;</span><a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a><span>&nbsp;&&nbsp;</span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank rel="noopener noreferrer">Notepadium</a>
<a href='https://ipv6-test.com/validate.php?url=referer'><img src=https://ipv6-test.com/button-ipv6-80x15.png alt='ipv6 ready' title='ipv6 ready' border=0></a></p></div></section><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css integrity=sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js integrity=sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=/js/hljs.min.6f979583f61e4ec5f0b94f94eab2e130ee628032474d374414dba4e33cc12097a0d01fe65b33378b23f6d3b053b95445.js integrity=sha384-b5eVg/YeTsXwuU+U6rLhMO5igDJHTTdEFNuk4zzBIJeg0B/mWzM3iyP207BTuVRF></script><script>hljs.initHighlightingOnLoad()</script>
<codapi-settings url=https://codapi.52funny.io/v1></codapi-settings></body></html>